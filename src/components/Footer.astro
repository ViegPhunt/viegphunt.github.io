---
import data from "@/../data.json";

const iconMap = {
    Email: {
        viewBox: "0 0 30 30",
        path: "M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM22.4092 12.5996C22.4092 12.5996 16.4936 15.8086 15.209 15.8086C14.0371 15.8086 8.00917 12.5996 8.00977 12.5996L8 19.7998C8 20.4622 8.53818 21 9.20117 21H21.2168C21.881 21 22.4189 20.4622 22.4189 19.7998L22.4092 12.5996ZM9.20117 9C8.53758 9.00002 8 9.5378 8 10.2002V10.7344C8 10.7344 14.0371 14.1582 15.209 14.1582C16.4372 14.1582 22.4092 10.7998 22.4092 10.7998L22.4189 10.2002C22.4189 9.5378 21.881 9 21.2168 9H9.20117Z"
    },
    Github: {
        viewBox: "0 0 30 30",
        path: "M15.0028 0C6.72188 0 0.00750732 6.71437 0.00750732 14.9972C0.00750732 21.6225 4.30313 27.2438 10.2638 29.2275C11.0138 29.3644 11.25 28.92 11.25 28.5225C11.25 28.1662 11.2575 27.1706 11.25 25.9191C7.07907 26.8256 6.2147 23.9438 6.2147 23.9438C5.53313 22.2113 4.55063 21.75 4.55063 21.75C3.18938 20.82 4.65282 20.8378 4.65282 20.8378C6.15751 20.9437 6.95063 22.3837 6.95063 22.3837C8.28844 24.6741 10.4597 24.0122 11.3138 23.6297C11.4506 22.6603 11.8388 21.9994 12.2672 21.6244C8.93719 21.2456 5.43657 19.9594 5.43657 14.2125C5.43657 12.5747 6.02063 11.2369 6.9797 10.1888C6.82501 9.81 6.30938 8.28469 7.12688 6.21937C7.12688 6.21937 8.38594 5.81625 11.25 7.75781C12.4463 7.425 13.7297 7.25906 15.0047 7.25344C16.2788 7.25906 17.5613 7.425 18.7594 7.75781C21.6234 5.81719 22.8806 6.21937 22.8806 6.21937C23.6981 8.28469 23.1834 9.81 23.0297 10.1888C23.9888 11.2369 24.5709 12.5747 24.5709 14.2125C24.5709 19.9744 21.0647 21.2419 17.7234 21.6122C18.2616 22.0762 18.75 22.9763 18.75 24.375C18.75 26.25 18.75 28.0331 18.75 28.5262C18.75 28.9275 18.9919 29.3709 19.7531 29.2256C25.7081 27.2391 30 21.6206 30 14.9972C30 6.71437 23.2856 0 15.0028 0Z"
    },
    Telegram: {
        viewBox: "0 0 30 30",
        path: "M15 0C6.71572 0 0 6.71572 0 15C0 23.2843 6.71572 30 15 30C23.2843 30 30 23.2843 30 15C30 6.71572 23.2843 0 15 0ZM22.7964 9.48844L20.1323 22.207C20.1001 22.3609 20.0297 22.5041 19.9276 22.6237C19.8256 22.7432 19.6951 22.8352 19.5483 22.8911C19.4014 22.9471 19.2428 22.9653 19.0871 22.9439C18.9314 22.9226 18.7835 22.8625 18.6571 22.7691L14.7819 19.9062L12.4342 22.121C12.4034 22.15 12.3672 22.1726 12.3277 22.1874C12.2881 22.2023 12.246 22.2091 12.2038 22.2075C12.1616 22.2059 12.1201 22.1959 12.0818 22.1781C12.0435 22.1603 12.0091 22.135 11.9807 22.1038L11.9302 22.0484L12.3381 18.1006L19.6907 11.3828C19.7271 11.3496 19.7497 11.304 19.7541 11.255C19.7585 11.206 19.7444 11.1571 19.7145 11.118C19.6846 11.0789 19.6412 11.0524 19.5927 11.0437C19.5443 11.0351 19.4943 11.0449 19.4528 11.0712L10.0497 17.0226L6 15.6625C5.89232 15.6263 5.79847 15.5577 5.73133 15.4661C5.66419 15.3745 5.62704 15.2643 5.62499 15.1508C5.62293 15.0372 5.65607 14.9258 5.71986 14.8318C5.78364 14.7378 5.87495 14.6658 5.98125 14.6258L21.8262 8.65688C21.9484 8.61088 22.0807 8.59856 22.2094 8.62121C22.338 8.64387 22.4581 8.70065 22.5573 8.78564C22.6565 8.87062 22.731 8.98068 22.773 9.10432C22.8151 9.22795 22.8232 9.36061 22.7964 9.48844Z"
    },
    Facebook: {
        viewBox: "0 0 30 30",
        path: "M30 15.0911C30 6.80679 23.2843 0.0910645 15 0.0910645C6.71572 0.0910645 0 6.80679 0 15.0911C0 22.578 5.48531 28.7835 12.6562 29.9088V19.427H8.84766V15.0911H12.6562V11.7864C12.6562 8.027 14.8956 5.95044 18.322 5.95044C19.9631 5.95044 21.6797 6.24341 21.6797 6.24341V9.93481H19.7882C17.9249 9.93481 17.3438 11.091 17.3438 12.2773V15.0911H21.5039L20.8389 19.427H17.3438V29.9088C24.5147 28.7835 30 22.578 30 15.0911Z"
    }
};

const socialLinks = data.about.contacts.map(contact => {
    const icon = iconMap[contact.platform as keyof typeof iconMap];
    return {
        href: contact.url,
        viewBox: icon?.viewBox,
        path: icon?.path,
    };
});
---

<footer class="w-full mt-auto border-t border-border bg-background text-text
               p-0 flex items-center justify-center
               lg:block lg:h-footer lg:py-[35px] lg:px-[10%]">
    <div class="flex flex-col items-center text-center h-auto gap-4 py-8 font-mono
                lg:flex-row lg:h-[60px] lg:justify-between lg:py-0">
        
        <div class="text-base order-2 lg:order-1">
            Designed & Built by <strong class="text-lg text-text font-bold transition-all hover:[text-shadow:0_0_5px_var(--color-shadow)]">ViegPhunt</strong>
        </div>
        
        <div class="flex items-center gap-[1.3rem] order-1 lg:order-2">
            {socialLinks.map((link) => (
                <a 
                    href={link.href} 
                    target="_blank" 
                    rel="noopener noreferrer"
                    class="group flex items-center justify-center p-[5px] rounded-full transition-all duration-300 ease-in-out
                    border-1 border-transparent hover:-translate-y-[2px] hover:border-border hover:shadow-[0_0_10px_var(--color-shadow)]"
                    aria-label={`Link to ${link.href}`}
                >
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox={link.viewBox} class="w-[25px] h-[25px] fill-current text-text transition-all duration-300 ease-in-out group-hover:scale-110 group-hover:drop-shadow-md" fill="currentColor">
                        <path d={link.path} fill-rule="evenodd" clip-rule="evenodd" fill="currentColor" />
                    </svg>
                </a>
            ))}
        </div>
    </div>
</footer>